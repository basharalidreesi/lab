<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>{{ site.title }} | {{ page.title }}</title>
		<meta name="description" content="{{ site.description }}">
		<meta name="author" content="{{ site.author }}">
		<!-- <link rel="shortcut icon" type="image/jpg" href=""/> -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/assets/css/style.css" media="screen"/>
		{% assign page_text_colour = page.text_colour | strip_newlines | strip %}
		{% unless page_text_colour == "#000" or page_text_colour == "#000000" or page_text_colour == "black" %}
			<script src="{{ site.baseurl }}/assets/js/svg-inject.min.js"></script>
		{% endunless %}
		{% include colours.html %}
		{% include script.html %}
		{% include noscript.html %}
	</head>
	<body>
		<div class="--mobile_background"></div>
		<div class="mother_container {% if page.is_fullscreen == true %}--mother_container_fullscreen{% endif %}">
			<nav class="mother_container-navigation_container{% if page.header_location == "central" %}_central{% endif %}{% if page.header_location == "upper" %}_upper{% endif %}" id="navigation_container">
				<input type="checkbox" id="navigation_checkbox">
				<label for="navigation_checkbox" class="navigation_container_upper-navigation_checkbox_toggle" onClick="lock_scroll();">
					<div class="--expand_navigation_arrow"></div>
					{% include map.html %}
					<div class="--expand_navigation_arrow"></div>
				</label>
				<ul class="navigation_container-navigation_list_wrapper">
					{% assign sorted = site.pages | sort: "position" %}
					{% for item in sorted %}
						{% if item.is_listed == true %}
							<li class="navigation_list_wrapper-navigation_list_item --navigation_text_styling {% if item.url == page.url %}--active_navigation_text_styling{% endif %}">
								<a class="--anchor_styling" href="{{ site.baseurl }}{{ item.url }}">
									{{ item.title }}
								</a>
							</li>
						{% endif %}
					{% endfor %}
				</ul>
			</nav>
			<header class="mother_container-header_container{% if page.header_location == "central" %}_central{% endif %}{% if page.header_location == "upper" %}_upper{% endif %}" id="header_container">
				<div class="header_container-header_wrapper{% if page.header_location == "central" %}_central{% endif %}{% if page.header_location == "upper" %}_upper{% endif %}">
					<a class="header_wrapper-header_anchor" href="{{ site.url }}{{ site.baseurl }}">
						<img class="header_anchor-header_graphic" id="header_graphic" alt="Header">
						<noscript>
							<img class="header_anchor-header_graphic" alt="Header" src="{{ site.baseurl }}{{ header_graphics[0].path }}">
						</noscript>
					</a>
				</div>
				{% if page.header_location == "central" %}
					<script>
						// https://stackoverflow.com/questions/16302483/event-to-detect-when-positionsticky-is-triggered
						const header = document.getElementById('header_container');
						const observer = new IntersectionObserver( 
							([e]) => e.target.children[0].classList.toggle('header_container-header_wrapper_central_sticky', e.intersectionRatio < 1),
							{threshold: [1]}
						);
						observer.observe(header);
					</script>
				{% endif %}
			</header>
			<main class="mother_container-content_container" id="content_container">
				{{ content }}
			</main>
			{% if page.is_fullscreen == false %}
				<footer class="mother_container-footer_container">
					<div class="footer_container-footer_wrapper">
						{% include footer.html %}
					</div>
				</footer>
			{% endif %}
		</div>
		{% if page.header_location == "central" %}
			<div class="--indicator_arrow_wrapper_vertical" id="indicator_arrow" onClick="scroll_arrow_into_view(event);">
				<div class="--indicator_arrow_shaft"></div>
				<div class="--indicator_arrow_head"></div>
			</div>
		{% endif %}
	</body>
</html>
