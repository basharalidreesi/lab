---
layout: default
---

<!-- begin cascade.html -->
<div class="main_container-cascade_wrapper" id="cascade_wrapper">
	{% assign page_content = page.content | newline_to_br | strip_newlines | split: "<br /><br />" %}
	<header class="cascade_wrapper-title_card">
		<h1 class="--title_card_text_styling">{{ page.title }}</h1>
		{% for block in page_content %}
			{% assign item = block | split: "<br />" %}
			{% assign identifier = item[0] | split: " " %}
			{% assign declaration = identifier[0] | remove: "<p>" | remove: "</p>" %}
			{% case declaration %}
				{% when "!title" %}
					{% for line in item %}
						{% if line contains "!title" %}
							<h2 class="--title_card_text_styling">{{ line | remove_first: "!title" | remove: "<p>" | remove: "</p>" | strip }}</h2>
						{% endif %}
						{% if line contains "!background" %}
							{% assign background = line | remove_first: "!background" | remove: "<p>" | remove: "</p>" | strip %}
							<style> .cascade_wrapper-title_card { background-color: {{ background }}; } </style>
						{% endif %}
						{% if line contains "!border" %}
							{% assign border = line | remove_first: "!border" | remove: "<p>" | remove: "</p>" | strip %}
							<style> .cascade_wrapper-title_card { border: 1px solid {{ border }}; } </style>
						{% endif %}
						{% if line contains "!color" or block contains "!colour" %}
							{% assign colour = line | remove_first: "!color" | remove_first: "!colour" | remove: "<p>" | remove: "</p>" | strip %}
							<style> .cascade_wrapper-title_card { --text_colour: {{ colour }}; } </style>
						{% endif %}
					{% endfor %}
			{% endcase %}
		{% endfor %}
	</header>
	{% for block in page_content %}
		{% assign item = block | split: "<br />" %}
		{% assign identifier = item[0] | split: " " %}
		{% assign declaration = identifier[0] | remove: "<p>" | remove: "</p>" %}
		{% if block contains "!linkto" %}
			{% for line in item %}
				{% if line contains "!linkto" %}
					{% assign link = line | remove_first: "!linkto" | remove: "<p>" | remove: "</p>" | strip %}
				{% endif %}
			{% endfor %}
		{% endif %}
		{% if block contains "!image" and block contains "!source" %}
			{% for line in item %}
				{% if line contains "!source" %}
					{% assign source = line | remove_first: "!source" | remove: "<p>" | remove: "</p>" | remove: "<" | remove : ">" | remove: "img src=" | remove: '"' | split: " " %}
				{% endif %}
			{% endfor %}
		{% endif %}
		{% if block contains "!source" and block contains "!embed" %}
			{% for line in item %}
				{% if line contains "!source" %}
					{% if line contains "youtube.com" %}
						{% assign source = line | remove_first: "!source" | remove: "<p>" | remove: "</p>" | split: "v=" %}
					{% elsif line contains "youtu.be" %}
						{% assign source = line | remove_first: "!source" | remove: "<p>" | remove: "</p>" | split: ".be/" %}
					{% elsif line contains "vimeo.com" %}
						{% assign source = line | remove_first: "!source" | remove: "<p>" | remove: "</p>" | split: ".com/" %}
					{% endif %}
				{% endif %}
			{% endfor %}
		{% endif %}
		{% if block contains "!background" %}
			{% for line in item %}
				{% if line contains "!background" %}
					{% assign background = line | remove_first: "!background" | remove: "<p>" | remove: "</p>" | strip %}
				{% endif %}
			{% endfor %}
		{% endif %}
		{% if block contains "!border" %}
			{% for line in item %}
				{% if line contains "!border" %}
					{% assign border = line | remove_first: "!border" | remove: "<p>" | remove: "</p>" | strip %}
				{% endif %}
			{% endfor %}
		{% endif %}
		{% if block contains "!glow" %}
			{% for line in item %}
				{% if line contains "!glow" %}
					{% assign glow = line | remove_first: "!glow" | remove: "<p>" | remove: "</p>" | strip %}
				{% endif %}
			{% endfor %}
		{% endif %}
		{% if block contains "!color" or block contains "!colour" %}
			{% for line in item %}
				{% if line contains "!color" or line contains "!colour" %}
					{% assign colour = line | remove_first: "!color" | remove_first: "!colour" | remove: "<p>" | remove: "</p>" | strip %}
				{% endif %}
			{% endfor %}
		{% endif %}
		{% case declaration %}
			{% when "!text" %}
				<div class="cascade_wrapper-text_card" 
					style="
						{% if block contains "!background" %} background-color: {{ background }}; {% endif %}
						{% if block contains "!border" %} border: 1px solid {{ border }}; {% endif %}
						{% if block contains "!color" or block contains "!colour" %} --text_colour: {{ colour }} {% endif %}
					">
					{% for line in item %}
						{% if line contains "!text" %}
							<p class="--text_card_text_styling">{{line | remove_first: "!text" | remove: "<p>" | remove: "</p>" | strip }}</p>
						{% endif %}
					{% endfor %}
				</div>
			{% when "!image" %}
				{% if block contains "!linkto" %}
					<figure class="cascade_wrapper-anchored_graphic_card"
						style="
							{% if block contains "!background" %} background-color: {{ background }}; {% endif %}
							{% if block contains "!border" %} border: 1px solid {{ border }}; {% endif %}
							{% if block contains "!glow" %} --primary_colour: {{ glow }}; {% endif %}
						">
						{% if block contains "!caption" %}
							<!-- <figcaption>
								{% for line in item %}
									{% if line contains "!caption" %}	
										<p>{{ line | remove_first: "!caption" | remove: "<p>" | remove: "</p>" }}</p>
									{% endif %}
								{% endfor %}
							</figcaption> -->
						{% endif %}
						<a href="{{ site.baseurl }}{{ link }}">
							<img class="graphic_card-graphic_card_image" src="{{ site.baseurl }}{{ source[0] }}">
						</a>
					</figure>
				{% else %}
					<figure class="cascade_wrapper-graphic_card"
						style="
							{% if block contains "!background" %} background-color: {{ background }}; {% endif %}
							{% if block contains "!border" %} border: 1px solid {{ border }}; {% endif %}
						">
						{% if block contains "!caption" %}
							<!-- <figcaption>
								{% for line in item %}
									{% if line contains "!caption" %}	
										<p>{{ line | remove_first: "!caption" | remove: "<p>" | remove: "</p>" }}</p>
									{% endif %}
								{% endfor %}
							</figcaption> -->
						{% endif %}		
						<img class="graphic_card-graphic_card_image" src="{{ site.baseurl }}{{ source[0] }}">
					</figure>
				{% endif %}
			{% when "!embed" %}
				{% if block contains "!source" %}
					{% if block contains "youtube.com" or block contains "youtu.be" %}
						<div class="cascade_wrapper-embed_card">
							<iframe frameborder="0" src="https://www.youtube.com/embed/{{ source[1] | slice: 0, 11 }}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
						</div>
					{% elsif block contains "vimeo.com" %}
						<div class="cascade_wrapper-embed_card">
							<iframe src="https://player.vimeo.com/video/{{ source[1] }}?title=0&byline=0&portrait=0" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
						</div>
					{% endif %}
				{% endif %}
			{% when "!empty" %}
				<div class="cascade_wrapper-empty_card"
					style="
						{% if block contains "!background" %} background-color: {{ background }}; {% endif %}
						{% if block contains "!border" %} border: 1px solid {{ border }}; {% endif %}
					"></div>
		{% endcase %}
	{% endfor %}
	<footer class="cascade_wrapper-footer_card">
		{% for block in page_content %}
			{% assign item = block | split: "<br />" %}
			{% assign identifier = item[0] | split: " " %}
			{% assign declaration = identifier[0] | remove: "<p>" | remove: "</p>" %}
			{% case declaration %}
				{% when "!footer" %}
					{% for line in item %}
						{% if line contains "!footer" %}
							<p class="--footer_card_text_styling">{{ line | remove_first: "!footer" | remove: "<p>" | remove: "</p>" | strip }}</p>
						{% endif %}
						{% if line contains "!background" %}
							{% assign background = line | remove_first: "!background" | remove: "<p>" | remove: "</p>" | strip %}
							<style> .cascade_wrapper-footer_card { background-color: {{ background }}; } </style>
						{% endif %}
						{% if line contains "!border" %}
							{% assign border = line | remove_first: "!border" | remove: "<p>" | remove: "</p>" | strip %}
							<style> .cascade_wrapper-footer_card { border: 1px solid {{ border }}; } </style>
						{% endif %}
						{% if line contains "!color" or block contains "!colour" %}
							{% assign colour = line | remove_first: "!color" | remove_first: "!colour" | remove: "<p>" | remove: "</p>" | strip %}
							<style> .cascade_wrapper-footer_card { --text_colour: {{ colour }}; } </style>
						{% endif %}
					{% endfor %}
			{% endcase %}
		{% endfor %}
		{% include footer.html %}
	</footer>
</div>
<script>
	// https://dev.to/samthor/divert-vertical-scroll-to-the-side-3id0
	// handle up/down scrollwheel on the scroller, as most folks don't have horizontal scroll
	 cascade_wrapper.addEventListener('scroll', (ev) => {
		if (!ev.ctrlKey) {
			// ev.preventDefault();  // stop scrolling in another direction
			cascade_wrapper.scrollLeft += (ev.deltaY + ev.deltaX);
		}
	});
	document.getElementById('nav_container').addEventListener('scroll', (ev) => {
		if (!ev.ctrlKey) {
			// ev.preventDefault();
			cascade_wrapper.scrollLeft += (ev.deltaY + ev.deltaX);
		}
	});
	document.getElementById('header_container').addEventListener('scroll', (ev) => {
		if (!ev.ctrlKey) {
			// ev.preventDefault();
			cascade_wrapper.scrollLeft += (ev.deltaY + ev.deltaX);
		}
	});
</script>
<!-- end cascade.html -->
